---
title: "Programación II"
author: "Yali-Samaniego Roy and Prudencio-Paredes Fernando"
date: "`r Sys.Date()`"
output: 
  rmdformats::robobook:
    self_contained: true
---

```{=html}
<style>
body {
text-align: justify}
</style>
```
```{r setup, include=FALSE}
if (!require("pacman")) {
  install.packages("pacman")
}

pacman::p_unload(
  pacman::p_loaded(),
  character.only = TRUE
)

pacman::p_load(
  tidyverse, formatR, knitr, rmdformats, pander, labelled, readxl, magrittr
)

## Global options
options(max.print = "75")
opts_chunk$set(
  echo = TRUE,
  cache = TRUE,
  prompt = FALSE,
  tidy = TRUE,
  comment = NA,
  message = FALSE,
  warning = FALSE
)
opts_knit$set(width = 75)

## Remove objects
rm(list = ls())

# tricks styling: https://holtzy.github.io/Pimp-my-rmd/
# Math Rmd: https://rpruim.github.io/s341/S19/from-class/MathinRmd.html
```

# Objetivos del curso
El objetivo principal de la primera mitad de este curso es aprender a programar en R. Sin embargo, además de aprender a programar, esperamos guiarlos en el aprendizaje de otras habilidades relacionadas con la ciencia abierta.

Estas incluyen:

- Escribir programas que sean fáciles de entender y compartir.
- Mantener un registro de los cambios que realiza en sus programas.
- Usar programas que aseguren que su ciencia sea reproducible.
- Producir visualizaciones de datos simples y efectivas que hacen que sus resultados sean accesibles y fáciles de entender.



En la segunda parte de este curso nos enfocaremos principalmente en el la aplicación de estas herramientas en **$\color{blue}{\text{Spatial data analyst}}$**, **$\color{blue}{\text{multivariate data analysis}}$** y **$\color{blue}{\text{GIS development}}$**.

------------------------------------------------------------------------

# LECCIÓN 01
## Introducción a R
## Instalación de R, RStudio y RTools

### R
Distribución e instalación - Para instalar R hay que bajar un fichero ejecutable de la página web del proyecto R: [**http://www.r-project.org/**](http://www.r-project.org/) - Actualmente (Mayo 2021), la versión más reciente de R para el entorno Windows es la 4.1.0 y el ejecutable de tamaño aproximadamente 86Mb tiene el nombre R-4.1.0-win.exe - Una vez bajado este ejecutable, hay que ejecutarlo y seguir las instrucciones del programa de instalación.

![r logo](https://cran.r-project.org/Rlogo.svg){width=40%}

### Rstudio
RStudio es un editor para scripts disponible para usuarios de R en todos los sistemas operativos. - Es considerado como un **<u>entorno de desarrollo integrado (GUI)</u>** que combina un interfaz muy intuitiva con herramientas de código muy potentes que permiten sacar el máximo provecho a R. - La versión en pruebas es gratuita y está disponible en [**http://www.rstudio.org/**](http://www.rstudio.org/) - La ventaja de este editor es que ofrece una serie de opciones no existentes en R, entre otras, por ejemplo, comprobar rápidamente que ningún paréntesis queda sin cerrarse o marcar, copiar y pegar columnas. - Pero además nos da un listado de las variables y nos da una descripción de los bancos de datos que hemos introducido. También tiene una lista de los paquetes instalados y los gráficos realizados.

![rstudio logo](https://upload.wikimedia.org/wikipedia/commons/thumb/d/d0/RStudio_logo_flat.svg/1280px-RStudio_logo_flat.svg.png){width=80%}

### RTools
Herramientas para construir paquetes de R. Esto es lo que desea para construir sus propios paquetes en Windows, o para construir R por sí mismo.

A partir de **R 4.0.0** (lanzado en abril de 2020), R para Windows usa un paquete de cadena de herramientas llamado **<u>rtools40</u>**.

Esta versión de **<u>Rtools</u>** incluye gcc 8.3.0 e introduce un nuevo sistema de compilación basado en [**msys2**`](https://www.msys2.org/), que facilita la compilación y el mantenimiento de R, así como las bibliotecas del sistema que necesitan los paquetes de R en Windows. Las compilaciones recientes de **rtools40** también contienen una cadena de herramientas adicional gcc-10 ucrt para probar paquetes de R y bibliotecas del sistema con las compilaciones ucrt experimentales de R-devel. Para obtener más información sobre estos temas, siga los enlaces al final de este documento.

Jeroen Ooms mantiene la versión actual de Rtools. El profesor Brian Ripley y Duncan Murdoch prepararon [**ediciones anteriores**](https://cran.r-project.org/bin/windows/Rtools/history.html). El mejor lugar para informar errores es a través de la organización [**r-windows**](https://github.com/r-windows) en GitHub.


## ¿Qué es R?
## ¿Qué es RStudio?
## ¿Qué otros IDE’s existen para R?
## ¿Qué son los paquetes en R?


```{r }
# Install packages
install.packages("tidyverse")
# Load packages
library(tidyverse)
# You can also use "pacman" package to install
#  an loading other packages
if (!require("pacman")) {
  install.packages("pacman")
}
pacman::p_load(
  tidyverse, formatR, knitr, rmdformats, pander, labelled, readxl, magrittr, kableExtra
)
```

## ¿Qué es un lenguaje de programación orientado a objetos?
## ¿Qué es un lenguaje de programación compilado?
## Ambiente de trabajo en RStudio

## Mi primer "Hellow world"
```{r Mi primer "hellow world"}
print("Mi primera línea en R")
```

## Tipos de datos en R (character, numeric, logical, date)

| Tipos de Datos | Información |
| -: | :----- |
| `Lógico` | Son datos que sólo permite los valores lógicos de verdadero (T) o falso (F) |
| `Numérico` | Son datos que pueden contener números reales |
| `Complejo` | Son datos que pueden contener números complejos |
| `Carácter` | Son datos que permiten números y cualquier tipo caracter | 

```{r Tipos de datos en R}
# integer
a <- 7
# numeric
b <- 3.14
# character
c <- "hola mundo!"
# factor
d <- factor("a")
```

## Tipos de estructuras de datos (vector, matrix, dataframe, list)
| Objetos | Tipos |¿Soporta varios tipos de datos en el mismo objeto? |
|--:|:-----:|:--|
| `Vector` | Numérico, carácter, complejo o lógico | No |
| `Factor` | Numérico o lógico | No |
| `Arreglo` | Numérico, carácter, complejo o lógico | No |
| `Matriz` | Numérico, carácter, complejo o lógico | No |
| `Data frame` | Numérico, carácter, complejo o lógico | Sí |
| `ts` | Numérico, carácter, complejo o lógico | Sí |
| `Lista` | Numérico, carácter, complejo, lógico, función, expresión, … | Sí | 

```{r Tipos de estructuras de datos}
## Creando un vector
v1 <- c(2, 3, 4, 5, "hola")
v2 <- c("A", "A", "B")
v3 <- factor(v2)
v4 <- c(5, 34, 1)
## Creando un data frame / tibble
df <- data.frame(var1 = v4, var2 = v2)
tib <- tibble(var1 = v4, var2 = v2)
df
tib
```

## Asignación de objetos
```{r Asignación de objetos}
```

## Lectura / escritura de datos (.csv, .txt, .xlsx. RData, .rds)
```{r Lectura / escritura de datos}
## Carga de datos
# nombre de archivo: data/winequality-white.csv 
# (si no carga revisar el "working directory" donde estan parados): 
# Session > Set working directory > Choose directory
# d_vino <- read_delim('../data/c1_r_calidad_vinoblanco.csv', delim = ";")
```

## Funciones de R base (sum, cor, mean, sd, quantile)
```{r Funciones de R base}
```

## Asignación01
Crear un repositorio del curso en `Github`, copiar el enlace en la plataforma de google classroom

------------------------------------------------------------------------

# LECCIÓN 02
## Operadores lógicos (==, &, |, <, >, otros)
## Condicionales (if, else)
## Bucles (while, for)
## Controles de flujo (Break, continue, tryCatch, options)
## Funciones
## Funciones de la familia apply
## Gráficos
## Estilo tidyverse

------------------------------------------------------------------------

# LECCIÓN 03
## Rmarkdown
## Git y Github
## ¿Cómo puedo hacer un README?
## Instalar paquetes desde GitHub (Devtools, remotes)

------------------------------------------------------------------------

# LECCIÓN 04
## Análisis exploratorio de datos (EDA)
## Distribución de las variables (histogramas, boxplots violinplots)
## Detección de missing values
## Detección de outliers (1q - 1.5RI, 3q + 1.5RI)
## Autocolinealidad

------------------------------------------------------------------------

# LECCIÓN 05
## Introducción a datos espaciales
## GDAL
## ¿Qué es OGR y OSGeo?
## Principales paquetes para datos espaciales
## Lectura/Escritura de datos espaciales
## Principales herramientas de geoprocesamiento (dissolve, clip, merge, union)
## Principales herramientas para la manipulación de datos grillados (raster, brick, stack, mask, crop, ## resample, projectRaster)

------------------------------------------------------------------------

# LECCIÓN 06-07
## Estimación de densidad de Kernel 2D
## Introducción a Geoestadística
## Variogramas
## Interpolación (IDW, Spline, Kriging)

------------------------------------------------------------------------

# LECCIÓN 08 - Examen Parcial

------------------------------------------------------------------------

# LECCIÓN 09
## Análisis de dependencia espacial
## Regresión pondera geográficamente (GWR)

------------------------------------------------------------------------

# LECCIÓN 10-11
## RGEE

------------------------------------------------------------------------

# LECCIÓN 12-13
## Introducción al análisis multivariado
## Modelos de análisis cluster (Hclus, k-means, k-means++, k-medoides, DBscan)
## Análisis de componentes principales (PCA)

------------------------------------------------------------------------

# LECCIÓN 14-15
## Desarrollo de aplicaciones

------------------------------------------------------------------------

# LECCIÓN 16 - Examen Final

------------------------------------------------------------------------